<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Clientes Logomarca</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .header h1 {
            color: #2d3748;
            margin-bottom: 10px;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #667eea;
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #718096;
            font-size: 14px;
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: #48bb78;
        }
        
        .btn-success:hover {
            background: #38a169;
        }
        
        .btn-warning {
            background: #ed8936;
        }
        
        .btn-warning:hover {
            background: #dd7711;
        }
        
        .search-box {
            flex: 1;
            min-width: 250px;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .filter-select {
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            min-width: 200px;
        }
        
        .filter-select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .clients-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .client-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .client-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .client-header {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .client-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .client-company {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .client-origin {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 5px;
            padding: 4px 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 12px;
            display: inline-block;
        }
        
        .client-city {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 3px;
            padding: 4px 8px;
            background: rgba(255,255,255,0.15);
            border-radius: 12px;
            display: inline-block;
        }
        
        .client-body {
            padding: 20px;
        }
        
        .client-info {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f7fafc;
        }
        
        .info-label {
            font-weight: 600;
            color: #4a5568;
            font-size: 13px;
        }
        
        .info-value {
            color: #2d3748;
            font-size: 13px;
            text-align: right;
            max-width: 60%;
            word-break: break-word;
        }
        
        .client-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-small {
            padding: 8px 15px;
            font-size: 12px;
            flex: 1;
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-pending {
            background: #fed7d7;
            color: #c53030;
        }
        
        .status-done {
            background: #c6f6d5;
            color: #2f855a;
        }
        
        .origin-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            background: #e2e8f0;
            color: #4a5568;
            font-weight: 500;
        }
        
        .city-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            background: #bee3f8;
            color: #2c5282;
            font-weight: 500;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background-color: white;
            margin: 2% auto;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px 12px 0 0;
            position: relative;
        }
        
        .modal-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .modal-subtitle {
            opacity: 0.9;
            font-size: 16px;
        }
        
        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .close:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .modal-body {
            padding: 30px;
        }
        
        .detail-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .detail-item {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .detail-label {
            font-weight: 600;
            color: #4a5568;
            font-size: 13px;
            margin-bottom: 5px;
        }
        
        .detail-value {
            color: #2d3748;
            font-size: 14px;
            word-break: break-word;
        }
        
        .prompt-section {
            background: #f7fafc;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .prompt-content {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .loading {
            text-align: center;
            padding: 50px;
            color: #718096;
        }
        
        .empty-state {
            text-align: center;
            padding: 50px;
            color: #718096;
        }
        
        .empty-state h3 {
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .clients-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-box, .filter-select {
                min-width: auto;
            }
            
            .modal-content {
                width: 95%;
                margin: 5% auto;
            }
        }

.info-group {
    margin-bottom: 15px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #667eea;
}

.info-group .info-label {
    font-weight: 600;
    color: #4a5568;
    font-size: 13px;
    margin-bottom: 5px;
}

.info-group .info-value {
    color: #2d3748;
    font-size: 14px;
    word-wrap: break-word;
    max-width: 100%;
    white-space: pre-wrap;
}

.text-area {
    width: 100%;
    min-height: 300px;
    padding: 15px;
    border: 2px solid #e9ecef;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    line-height: 1.5;
    resize: vertical;
    margin-top: 10px;
}

.text-area:focus {
    outline: none;
    border-color: #667eea;
}

.modal-footer {
    padding: 20px 30px;
    border-top: 1px solid #eee;
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

.id-badge {
    background: #667eea;
    color: white;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.9em;
    font-weight: 600;
    display: inline-block;
}

.modal-content {
    max-height: 90vh;
    overflow-y: auto;
}

.origin-filter-section {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
}

.origin-badge-large {
    padding: 6px 12px;
    border-radius: 15px;
    font-size: 12px;
    background: #667eea;
    color: white;
    font-weight: 600;
}

.city-badge-large {
    padding: 6px 12px;
    border-radius: 15px;
    font-size: 12px;
    background: #4299e1;
    color: white;
    font-weight: 600;
}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Dashboard - Clientes Logomarca</h1>
            <p>Gerencie os briefings de cria√ß√£o de logomarca</p>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalClients">0</div>
                <div class="stat-label">Total de Clientes</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="pendingClients">0</div>
                <div class="stat-label">Pendentes</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="completedClients">0</div>
                <div class="stat-label">Conclu√≠dos</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="originsCount">0</div>
                <div class="stat-label">Origens Diferentes</div>
            </div>
        </div>
        
        <div class="controls">
            <input type="text" class="search-box" id="searchBox" placeholder="Buscar por nome, empresa, email, cidade...">
            <select class="filter-select" id="originFilter">
                <option value="all">Todas as Origens</option>
            </select>
            <button class="btn" onclick="loadClients()">üîÑ Atualizar</button>
            <button class="btn btn-success" onclick="Atualizar()">üì§ Importar Dados</button>
            <button class="btn btn-warning" onclick="resetFilters()">üóëÔ∏è Limpar Filtros</button>
        </div>
        
        <div id="clientsContainer">
            <div class="loading">
                <h3>Carregando clientes...</h3>
                <p>Aguarde enquanto buscamos os dados do Firebase</p>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="clientModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close">&times;</span>
                <div class="modal-title" id="modalClientName">Nome do Cliente</div>
                <div class="modal-subtitle" id="modalClientCompany">Empresa</div>
                <div class="client-origin" id="modalClientOrigin">Origem: N/A</div>
                <div class="client-city" id="modalClientCity">Cidade: N/A</div>
            </div>
            <div class="modal-body">
    <div class="info-group">
        <div class="info-label">ID:</div>
        <div class="info-value">
            <span class="id-badge" id="modalId">N/A</span>
        </div>
    </div>
    
    <div class="info-group">
        <div class="info-label">Origem:</div>
        <div class="info-value">
            <span class="origin-badge-large" id="modalOrigem">N/A</span>
        </div>
    </div>

    <div class="info-group">
        <div class="info-label">Cidade:</div>
        <div class="info-value">
            <span class="city-badge-large" id="modalCidadeBadge">N/A</span>
        </div>
    </div>
    
    <h3 style="color: #667eea; margin: 20px 0 15px 0; border-bottom: 2px solid #e9ecef; padding-bottom: 5px;">üìã Informa√ß√µes Pessoais</h3>
    
    <div class="info-group">
        <div class="info-label">Nome Completo:</div>
        <div class="info-value" id="modalNome"></div>
    </div>
    <div class="info-group">
        <div class="info-label">CPF:</div>
        <div class="info-value" id="modalCpf"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Telefone:</div>
        <div class="info-value" id="modalTelefone"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Email:</div>
        <div class="info-value" id="modalEmail"></div>
    </div>
    
    <h3 style="color: #667eea; margin: 20px 0 15px 0; border-bottom: 2px solid #e9ecef; padding-bottom: 5px;">üè¢ Informa√ß√µes da Empresa</h3>
    
    <div class="info-group">
        <div class="info-label">Nome da Empresa:</div>
        <div class="info-value" id="modalEmpresaNome"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Nome Fantasia:</div>
        <div class="info-value" id="modalNomeFantasia"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Ramo de Atividade:</div>
        <div class="info-value" id="modalRamo"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Meio de Vendas:</div>
        <div class="info-value" id="modalMeioVendas"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Pretende criar site/redes sociais:</div>
        <div class="info-value" id="modalRedesSociais"></div>
    </div>
    
    <h3 style="color: #667eea; margin: 20px 0 15px 0; border-bottom: 2px solid #e9ecef; padding-bottom: 5px;">üé® Briefing da Logomarca</h3>
    
    <div class="info-group">
        <div class="info-label">Cores Sugeridas:</div>
        <div class="info-value" id="modalCor"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Caracter√≠sticas a Evitar:</div>
        <div class="info-value" id="modalCaracteristicasEvitar"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Hist√≥ria da Marca:</div>
        <div class="info-value" id="modalHistoria"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Mensagem a Transmitir:</div>
        <div class="info-value" id="modalMensagem"></div>
    </div>
    <div class="info-group">
        <div class="info-label">P√∫blico-Alvo:</div>
        <div class="info-value" id="modalPublicoAlvo"></div>
    </div>
    
    <h3 style="color: #667eea; margin: 20px 0 15px 0; border-bottom: 2px solid #e9ecef; padding-bottom: 5px;">üìÖ Informa√ß√µes de Controle</h3>
    
    <div class="info-group">
        <div class="info-label">Data de Importa√ß√£o:</div>
        <div class="info-value" id="modalData"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Timestamp Original:</div>
        <div class="info-value" id="modalTimestampOriginal"></div>
    </div>
    <div class="info-group">
        <div class="info-label">Timestamp de Importa√ß√£o:</div>
        <div class="info-value" id="modalTimestampImportacao"></div>
    </div>
    
    <div style="margin-top: 30px;">
        <div class="info-label">Prompt Completo para IA:</div>
        <textarea id="textoGerado" class="text-area" readonly></textarea>
    </div>
</div>
        <div class="modal-footer">
    <button class="btn btn-success" onclick="copiarTexto()">üìã Copiar Texto</button>
    <button class="btn" onclick="modal.style.display = 'none'">Fechar</button>
</div>
        </div>
    </div>

    <script>

        function Atualizar(){
            window.location.href = 'index2.html';
        }

        // Configura√ß√£o do Firebase
        const FIREBASE_URL = "https://appatividades-7450d-default-rtdb.firebaseio.com/clientes-logomarca.json";
        
        // Vari√°veis globais
        let allClients = [];
        let filteredClients = [];
        let currentClient = null;
        let availableOrigins = new Set();
        
        // Elementos da interface
        const clientsContainer = document.getElementById('clientsContainer');
        const searchBox = document.getElementById('searchBox');
        const originFilter = document.getElementById('originFilter');
        const modal = document.getElementById('clientModal');
        const closeModal = document.getElementsByClassName('close')[0];
        
        // Event Listeners
        searchBox.addEventListener('input', filterClients);
        originFilter.addEventListener('change', filterClients);
        closeModal.addEventListener('click', () => modal.style.display = 'none');
        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });
        
        // Carregar clientes ao iniciar
        document.addEventListener('DOMContentLoaded', loadClients);
        
        // Fun√ß√£o para carregar clientes do Firebase
        async function loadClients() {
            try {
                clientsContainer.innerHTML = '<div class="loading"><h3>Carregando clientes...</h3></div>';
                
                const response = await fetch(FIREBASE_URL);
                const data = await response.json();
                
                if (!data) {
                    showEmptyState();
                    return;
                }
                
                // Converter objeto em array e ordenar pelo ID (convertendo para n√∫mero)
                allClients = Object.values(data).sort((a, b) => {
                    // Converte os IDs para n√∫meros antes de comparar
                    const idA = parseInt(a.id) || 0;
                    const idB = parseInt(b.id) || 0;
                    return idA - idB;
                });
                
                // Extrair origens √∫nicas
                availableOrigins = new Set();
                allClients.forEach(client => {
                    if (client.origem) {
                        availableOrigins.add(client.origem);
                    }
                });
                
                // Atualizar dropdown de origens
                updateOriginFilter();
                
                filteredClients = [...allClients];
                updateStats();
                renderClients();
                
            } catch (error) {
                console.error('Erro ao carregar clientes:', error);
                clientsContainer.innerHTML = `
                    <div class="empty-state">
                        <h3>Erro ao carregar dados</h3>
                        <p>Verifique sua conex√£o e tente novamente</p>
                    </div>
                `;
            }
        }
        
        // Fun√ß√£o para atualizar o filtro de origens
        function updateOriginFilter() {
            const currentValue = originFilter.value;
            originFilter.innerHTML = '<option value="all">Todas as Origens</option>';
            
            const sortedOrigins = Array.from(availableOrigins).sort();
            
            sortedOrigins.forEach(origin => {
                const option = document.createElement('option');
                option.value = origin;
                option.textContent = origin;
                originFilter.appendChild(option);
            });
            
            // Manter a sele√ß√£o atual se poss√≠vel
            if (currentValue && sortedOrigins.includes(currentValue)) {
                originFilter.value = currentValue;
            }
        }
        
        // Fun√ß√£o para atualizar estat√≠sticas
        function updateStats() {
            const total = allClients.length;
            const pending = allClients.filter(client => !client.feito).length;
            const completed = allClients.filter(client => client.feito).length;
            const origins = availableOrigins.size;
            
            document.getElementById('totalClients').textContent = total;
            document.getElementById('pendingClients').textContent = pending;
            document.getElementById('completedClients').textContent = completed;
            document.getElementById('originsCount').textContent = origins;
        }
        
        // Fun√ß√£o para renderizar clientes
        function renderClients() {
            if (filteredClients.length === 0) {
                showEmptyState();
                return;
            }
            
            const clientsHTML = filteredClients.map(client => `
                <div class="client-card">
                    <div class="client-header">
                        <div class="client-name">${client.nome + ' id: ' + client.id|| 'Nome n√£o informado'}</div>
                        <div class="client-company">${client.empresaNome || client.nomeFantasia || 'Empresa n√£o informada'}</div>
                        <div class="client-origin">Origem: ${client.origem || 'N√£o definida'}</div>
                        <div class="client-city">Cidade: ${client.cidade || 'N√£o informada'}</div>
                    </div>
                    <div class="client-body">
                        <div class="client-info">
                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value">${client.email || 'N/A'}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Telefone:</span>
                                <span class="info-value">${client.telefone || 'N/A'}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Ramo:</span>
                                <span class="info-value">${client.ramo || 'N/A'}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Origem:</span>
                                <span class="info-value">
                                    <span class="origin-badge">${client.origem || 'N√£o definida'}</span>
                                </span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Cidade:</span>
                                <span class="info-value">
                                    <span class="city-badge">${client.cidade || 'N√£o informada'}</span>
                                </span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Status:</span>
                                <span class="info-value">
                                    <span class="status-badge ${client.feito ? 'status-done' : 'status-pending'}">
                                        ${client.feito ? 'Conclu√≠do' : 'Pendente'}
                                    </span>
                                </span>
                            </div>
                        </div>
                        <div class="client-actions">
                            <button class="btn btn-small" onclick="openModal('${client.id}')">üëÅÔ∏è Ver Detalhes</button>
                            <button class="btn btn-small ${client.feito ? 'btn-success' : ''}" onclick="toggleStatus('${client.id}')">
                                ${client.feito ? '‚úÖ Feito' : '‚è≥ Marcar Feito'}
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            clientsContainer.innerHTML = `<div class="clients-grid">${clientsHTML}</div>`;
        }
        
        // Fun√ß√£o para mostrar estado vazio
        function showEmptyState() {
            clientsContainer.innerHTML = `
                <div class="empty-state">
                    <h3>Nenhum cliente encontrado</h3>
                    <p>Importe alguns dados ou verifique os filtros aplicados</p>
                </div>
            `;
        }
        
        // Fun√ß√£o para filtrar clientes
        function filterClients() {
            const searchTerm = searchBox.value.toLowerCase();
            const selectedOrigin = originFilter.value;
            
            filteredClients = allClients.filter(client => {
                // Filtro por busca
                const searchMatch = !searchTerm || 
                    (client.nome && client.nome.toLowerCase().includes(searchTerm)) ||
                    (client.empresaNome && client.empresaNome.toLowerCase().includes(searchTerm)) ||
                    (client.nomeFantasia && client.nomeFantasia.toLowerCase().includes(searchTerm)) ||
                    (client.email && client.email.toLowerCase().includes(searchTerm)) ||
                    (client.ramo && client.ramo.toLowerCase().includes(searchTerm)) ||
                    (client.cidade && client.cidade.toLowerCase().includes(searchTerm));
                
                // Filtro por origem
                const originMatch = selectedOrigin === 'all' || client.origem === selectedOrigin;
                
                return searchMatch && originMatch;
            });
            
            renderClients();
        }
        
        // Fun√ß√£o para resetar filtros
        function resetFilters() {
            searchBox.value = '';
            originFilter.value = 'all';
            filteredClients = [...allClients];
            renderClients();
        }
        
        // Fun√ß√£o para abrir modal com detalhes
        function openModal(clientId) {
            currentClient = allClients.find(client => client.id === clientId);
            
            if (!currentClient) return;
            
            // Preencher cabe√ßalho do modal
            document.getElementById('modalClientName').textContent = currentClient.nome + currentClient.id || 'Nome n√£o informado';
            document.getElementById('modalClientCompany').textContent = currentClient.empresaNome || currentClient.nomeFantasia || 'Empresa n√£o informada';
            document.getElementById('modalClientOrigin').textContent = `Origem: ${currentClient.origem || 'N√£o definida'}`;
            document.getElementById('modalClientCity').textContent = `Cidade: ${currentClient.cidade || 'N√£o informada'}`;
            
            // Informa√ß√µes b√°sicas
            document.getElementById('modalId').textContent = currentClient.id || 'N/A';
            document.getElementById('modalOrigem').textContent = currentClient.origem || 'N√£o definida';
            document.getElementById('modalCidadeBadge').textContent = currentClient.cidade || 'N√£o informada';
            document.getElementById('modalNome').textContent = currentClient.nome || 'N/A';
            document.getElementById('modalCpf').textContent = currentClient.cpf || 'N/A';
            document.getElementById('modalTelefone').textContent = currentClient.telefone || 'N/A';
            document.getElementById('modalEmail').textContent = currentClient.email || 'N/A';
            
            // Informa√ß√µes da empresa
            document.getElementById('modalEmpresaNome').textContent = currentClient.empresaNome || 'N/A';
            document.getElementById('modalNomeFantasia').textContent = currentClient.nomeFantasia || 'N/A';
            document.getElementById('modalRamo').textContent = currentClient.ramo || 'N/A';
            document.getElementById('modalMeioVendas').textContent = currentClient.meioVendas || 'N/A';
            document.getElementById('modalRedesSociais').textContent = currentClient.redesSociais || 'N/A';
            
            // Briefing da logomarca
            document.getElementById('modalCor').textContent = currentClient.cor || 'N/A';
            document.getElementById('modalCaracteristicasEvitar').textContent = currentClient.caracteristicasEvitar || 'N/A';
            document.getElementById('modalHistoria').textContent = currentClient.historia || 'N/A';
            document.getElementById('modalMensagem').textContent = currentClient.mensagem || 'N/A';
            document.getElementById('modalPublicoAlvo').textContent = currentClient.publicoAlvo || 'N/A';
            
            // Informa√ß√µes de controle
            document.getElementById('modalData').textContent = currentClient.data || 'N/A';
            document.getElementById('modalTimestampOriginal').textContent = currentClient.timestampOriginal || 'N/A';
            document.getElementById('modalTimestampImportacao').textContent = currentClient.timestampImportacao ? new Date(currentClient.timestampImportacao).toLocaleString('pt-BR') : 'N/A';
            
            // Gerar prompt completo
            const textoGerado = gerarTextoPadrao(currentClient);
            document.getElementById('textoGerado').value = textoGerado;
            
            document.getElementById('clientModal').style.display = 'block';
        }
        
        // Fun√ß√£o para gerar prompt formatado
        function gerarTextoPadrao(cliente) {
            const nome = cliente.nome || '[Nome n√£o informado]';
            const empresaNome = cliente.empresaNome || '[Nome da empresa n√£o informado]';
            const nomeFantasia = cliente.nomeFantasia || '[Nome fantasia n√£o informado]';
            const ramo = cliente.ramo || '[Ramo n√£o informado]';
            const cor = cliente.cor || '[Cor n√£o informada]';
            const caracteristicasEvitar = cliente.caracteristicasEvitar || '[Sem restri√ß√µes espec√≠ficas]';
            const historia = cliente.historia || '[Sem hist√≥ria espec√≠fica]';
            const mensagem = cliente.mensagem || '[Sem mensagem espec√≠fica]';
            const publicoAlvo = cliente.publicoAlvo || '[P√∫blico geral]';
            const meioVendas = cliente.meioVendas || '[Meio de vendas n√£o especificado]';
            const redesSociais = cliente.redesSociais || '[N√£o informado]';
            const cidade = cliente.cidade || '[Cidade n√£o informada]';
            const telefone = cliente.telefone || '[Telefone n√£o informado]';
            const email = cliente.email || '[Email n√£o informado]';
            const origem = cliente.origem || '[Origem n√£o definida]';

            return `BRIEFING COMPLETO PARA CRIA√á√ÉO DE LOGOMARCA

üìã INFORMA√á√ïES DO CLIENTE
Nome: ${nome}
Cidade: ${cidade}
Telefone: ${telefone}
Email: ${email}
Origem: ${origem}

üè¢ INFORMA√á√ïES DA EMPRESA
Nome da Empresa: ${empresaNome}
Nome Fantasia: ${nomeFantasia}
Ramo de Atividade: ${ramo}
Meio de Vendas: ${meioVendas}
Pretende criar site/redes sociais: ${redesSociais}

üé® ESPECIFICA√á√ïES DA LOGOMARCA
Cores sugeridas: ${cor}
Caracter√≠sticas a evitar: ${caracteristicasEvitar}
Hist√≥ria da marca: ${historia}
Mensagem a transmitir: ${mensagem}
P√∫blico-alvo: ${publicoAlvo}

---

PROMPT PARA IA:

Crie uma logomarca profissional e moderna para a empresa "${empresaNome}" (nome fantasia: "${nomeFantasia}") que atua no ramo de ${ramo}.

ESPECIFICA√á√ïES T√âCNICAS:
- Cores preferidas: ${cor}
- Evitar: ${caracteristicasEvitar}
- P√∫blico-alvo: ${publicoAlvo}
- Mensagem a transmitir: ${mensagem}
- Hist√≥ria/contexto: ${historia}
- Origem dos dados: ${origem}

REQUISITOS:
- A logomarca deve ser adequada para uso em ${meioVendas}
- ${redesSociais && redesSociais.toLowerCase().includes('sim') ? 'Considere o uso em redes sociais e plataformas digitais' : 'Foque em aplica√ß√µes tradicionais'}
- Deve transmitir profissionalismo e se destacar no mercado de ${ramo}
- Seja criativo e original, respeitando as prefer√™ncias de cores e evitando as caracter√≠sticas mencionadas

CONTEXTO ADICIONAL:
Cliente: ${nome}
Localiza√ß√£o: ${cidade}
Contato: ${telefone} | ${email}
Origem: ${origem}

Por favor, crie algo que represente bem a ess√™ncia da marca "${nomeFantasia}" e seja memor√°vel para o p√∫blico-alvo especificado.`;
        }

        function copiarTexto() {
            const textoGerado = document.getElementById('textoGerado');
            textoGerado.select();
            textoGerado.setSelectionRange(0, 99999); // Para dispositivos m√≥veis
            document.execCommand("copy");
            alert("Texto copiado para a √°rea de transfer√™ncia!");
        }

        // Fun√ß√£o para alternar status
        async function toggleStatus(clientId) {
            const client = allClients.find(c => c.id === clientId);
            if (!client) return;
            
            try {
                const newStatus = !client.feito;
                
                // Atualizar no Firebase
                const updateUrl = `https://appatividades-7450d-default-rtdb.firebaseio.com/clientes-logomarca/cliente_${clientId}.json`;
                const response = await fetch(updateUrl, {
                    method: 'PATCH',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ feito: newStatus })
                });
                
                if (response.ok) {
                    // Atualizar localmente
                    client.feito = newStatus;
                    updateStats();
                    renderClients();
                    
                    // Atualizar modal se estiver aberto
                    if (currentClient && currentClient.id === clientId) {
                        currentClient.feito = newStatus;
                    }
                } else {
                    alert('Erro ao atualizar status. Tente novamente.');
                }
                
            } catch (error) {
                console.error('Erro ao atualizar status:', error);
                alert('Erro ao atualizar status. Verifique sua conex√£o.');
            }
        }
    </script>
</body>
</html>